<!--
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the MIT License.
-->
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Custom Widget Examples</title>
    </head>

    <body role="main">
        <h1>Custom Widget Examples</h1>

        <div>
            <h2>Custom button (with issues)</h2>
            <div id="button1" role="button">button1</div>
        </div>

        <div>
            <h2>Custom menu button (with issues)</h2>

            <div>
                <button
                    id="menubutton1"
                    aria-haspopup="true"
                    aria-expanded="true"
                    aria-controls="menu1"
                    onclick="onMenu1Button()"
                >
                    Toggle Menu
                </button>
                <ul id="menu1" role="menu" aria-labelledby="menubutton1" class="menu1-expanded">
                    <button role="menuitem" onclick="onMenu1Item('1')">Action 1</li>
                    <button role="menuitem" onclick="onMenu1Item('2')">Action 2</li>
                    <button role="menuitem" onclick="onMenu1Item('3')">Action 3</li>
                    <button role="menuitem" onclick="onMenu1Item('4')">Action 4</li>
                </ul>
            </div>
            <p>
                Selected menu action: <span id="menu1-selection">none</span>
            </p>
            <style>
                .menu1-collapsed {
                    display: none;
                }
                .menu1-expanded {
                    display: block;
                }
            </style>
            <script type="text/javascript">
                function expandMenu1() {
                    document.getElementById('menubutton1').attributes['aria-expanded'].value = true;
                    document.getElementById('menu1').className = 'menu1-expanded';
                }
                function collapseMenu1() {
                    document.getElementById('menubutton1').attributes[
                        'aria-expanded'
                    ].value = false;
                    document.getElementById('menu1').className = 'menu1-collapsed';
                }
                function onMenu1Button() {
                    const menuButton = document.getElementById('menubutton1');
                    console.log(menuButton.attributes['aria-expanded'].value);
                    if (menuButton.attributes['aria-expanded'].value === 'true') {
                        collapseMenu1();
                    } else {
                        expandMenu1();
                    }
                }
                function onMenu1Item(value) {
                    document.getElementById('menu1-selection').innerText = value;
                    collapseMenu1();
                }
            </script>
        </div>
    </body>
</html>
