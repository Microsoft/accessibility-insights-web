# Copyright (c) Microsoft Corporation. All rights reserved.
# Licensed under the MIT License.
steps:
    # e2e tests depend drop folder. run build:all will create said folder
    - script: yarn build:web-extension
      displayName: build:web-extension

    - bash: |
          echo "Hello world from $AGENT_NAME running on $AGENT_OS"
          case $BUILD_REASON in
                  "Manual") echo "$BUILD_REQUESTEDFOR manually queued the build." ;;
                  "IndividualCI") echo "This is a CI build for $BUILD_REQUESTEDFOR." ;;
                  "BatchedCI") echo "This is a batched CI build for $BUILD_REQUESTEDFOR." ;;
              *) $BUILD_REASON ;;
          esac
      condition: eq( variables['Agent.OS'], 'Linux' )
      displayName: Hello world

    - script: yarn test:e2e -- --ci
      displayName: run e2e tests
