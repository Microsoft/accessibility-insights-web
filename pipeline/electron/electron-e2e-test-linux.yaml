# Copyright (c) Microsoft Corporation. All rights reserved.
# Licensed under the MIT License.
steps:
    - script: yarn replace:electron-mirror
      displayName: replace open source build with internal build
      env:
          ELECTRON_MIRROR: $(ELECTRON_MIRROR)
          ELECTRON_CUSTOM_DIR: $(ELECTRON_CUSTOM_DIR)

    - script: yarn build:electron
      displayName: build:electron

    - script: xvfb-run --server-args="-screen 0 1024x768x24" yarn test:electron --ci
      displayName: run electron e2e tests
